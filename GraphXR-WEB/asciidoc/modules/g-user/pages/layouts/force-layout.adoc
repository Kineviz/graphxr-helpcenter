= Using Force Layouts

A *_Force_* directed layout is a rendering of a physics simulation in which each node pushes away from other nodes while edges pull the nodes together. There is no intrinsic meaning to node position or edge length in a force-directed layout. Rather, the rendering is designed to result in a graph that is visually pleasing and reasonably easy to navigate.

GraphXR provides a default force-directed layout, but you can:

* Adjust force layout parameters for the entire graph, and restore default settings.
* Randomize node positions for all or part of the graph.
* Temporarily disable force layout for all or part the graph.
* *_Run_* a brief force layout simulation for the entire graph.

== Adjusting Force layout parameters

The *_Force_* tab of the *_Layout_* panel includes a set of sliders to adjust default layout parameters for the entire graph.

image::/v2_17/08_01_01_ForceLayout.png[,720,480,role=text-left]

You can adjust parameters as follows:

* *_Link Strength_*. Adjusts how strongly the links (i.e. edges) pull the nodes together.
* *_Link Distance_*. Adjusts the distance between nodes (i.e. edge length).
* *_Gravity_*. Pulls the nodes toward the center of the graph space, that is, the point the view rotates around when nothing is selected.
* *_Charge_*. Adjusts how strongly the nodes push away from one another.
* *_Collision_*. Adjusts the degree to which nodes are allowed to overlap each other. This is especially useful in a 2D layout, to un-stack nodes projected on top of one another. When set all the way to the right, some overlap can still occur.
+
image::/v2_17/08_01_02_ForceCollision1320.png[,720,480,role=text-left]

* *_Z Compress_*. Compresses nodes on the Z axis to become a flatter, more 2D layout. To project a 3D view to near-2D, set the *_Z-Compress_* slider all the way to the rightmost position. You will still be able to rotate the data in 3D.
* Click the *_Restore Default Settings_* button to restore the sliders to their default positions and re-render the default force layout for the selected graph.

NOTE: Any pinned node is excluded from adjustment, and left where it was placed. This applies to nodes you've arranged manually in the project space, and to those pinned automatically using a geometric layout. To release pinned nodes, either use the *_Pin/Release_* toolbar icon or right-click menu, or the *_Release_* button in the *_Geometric_* layout panel.

== Restricting layouts to 2D

3D visualization provides a powerful advantage for exploring high-dimensional data. However, you can switch to 2D mode at any time, or even work exclusively in 2D mode.

For example, a flat 2D project space can be useful when creating and sharing views for analytic reports of various kinds. Many of the  xref:./geometric-layouts[*_Geometric_* layouts] do translate well to purely 2D presentation, including *_Line_*, *_Circle_*, *_Spiral_*, and *_Grid_*, as well as  hierarchical *_Rings_* or *_Trees_*

*To set the project space to 2D:*

* In the *_Project_* panel and *_Settings_* tab, click the *_2D Mode_* checkbox.
+
image::/v2_17/08_01_03_2DCheckbox2.png[,720,380,role=text-left]
+

 ** Project data are now arranged on a flat plane, and the data cannot be rotated in 3D.
 ** In the *_Force_* layout tab the *_Z-Compress_* slider is no longer displayed.
 ** The 3D *_Cube_*, *_Spring_*, and *_Sphere_* geometric layouts are no longer available.

== Randomizing node positions

In *_Force_* layout, nodes are rendered in randomized positions. The *_Randomize Node Positions_* button lets you render a different random arrangement either for selected data, or all data if no data are selected (*except for any pinned nodes*).

*To randomize a force-directed layout:*

. Select nodes using any method.
+

NOTE: If no nodes are selected, all node positions are randomized, *_except for any pinned nodes_*.

+
. Make sure that the label next to the icon reads *_Disable Force Layout_*. This means that force layout is currently enabled, and your selection will be randomized according to the current force layout parameters.
+
image::/v2_17/08_01_05_RandomizeForce.png[,420,280,role=text-left]
+
. Click the *_Randomize Node Positions_* button to render a different random force layout for your selection.

== Disabling Force Layout

You can disable the force layout for all or part of the graph. This causes selected nodes to be rendered in a random, more compact arrangement that does not use a force-directed simulation. This can help you focus quickly on subgraphs of interest.

*To disable force layout and randomize node positions:*

. Select nodes using any method.
. Click the force layout icon. The text next to the icon should now read *_Enable Force Layout_*, which means that force layout is currently disabled.
. Click the *_Randomize Node Positions_* button to display a different random order for your selection. +
The selected data are randomized in a more compact layout, while the data not selected remains in force layout.
+
image::/v2_17/08_01_06_DisableAndRandomize.png[,720,480,role=text-left]
+

NOTE: If no data are selected, all node positions are randomized in a non-force layout, *_except for any pinned nodes_*.

. Click the icon next to *_Enable Force Layout_* at any time to return the selected nodes to force-directed layout.

== Using Run and Stop

With force layout enabled, you can click *_Run_* to run a brief (1- or 2- second) force layout simulation for the entire graph. Click *_Stop_* to freeze the layout when you see a rendering you like.
